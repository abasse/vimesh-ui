// Vimesh UI v0.12.4
"use strict";!function(t){if(!t.$vui){t.$vui={config:{debug:!1},ready(e){t.Alpine?e():document.addEventListener("alpine:init",e)}};const e=new Date,o=t.$vui._={elapse(){return new Date-e},isString(e){return null!=e&&"string"==typeof e.valueOf()},isArray(e){return Array.isArray(e)},isFunction(e){return"function"==typeof e},isPlainObject(e){return null!==e&&"object"==typeof e&&e.constructor===Object},each(e,r){e&&(o.isArray(e)?e.forEach((e,t)=>{r(e,t,t)}):Object.entries(e).forEach(([e,t],n)=>{r(t,e,n)}))},map(e,r){let i=[];return o.each(e,(e,t,n)=>i.push(r(e,t,n))),i},filter(e,r){let i=[];return o.each(e,(e,t,n)=>r(e,t,n)&&i.push(e)),i},extend(n,...t){var r=t.length;if(!(r<1||null==n))for(let e=0;e<r;e++){const i=t[e];o.isPlainObject(i)&&Object.keys(i).forEach(e=>{var t=Object.getOwnPropertyDescriptor(i,e);t.get||t.set?Object.defineProperty(n,e,t):n[e]=i[e]})}return n}}}}(window),$vui.setups||($vui.setups={}),$vui.components||($vui.components={}),$vui.ready(()=>{const d=$vui._,{directive:e,prefixed:r,addRootSelector:t,magic:n,closestDataStack:i,mergeProxies:o,initTree:p,mutateDom:f,reactive:v}=Alpine,m="v-ui",b="v-cloak",h="vui",g=r("component"),a=r("import"),_=r("data"),y=r("init"),$=r("ignore"),u=[h];var s=document.createElement("style");function c(e){e&&(e=e.trim(),-1===u.indexOf(e))&&u.push(e)}function w(e){if(e._vui_type)return!0;if(e.tagName){var t=e.tagName.indexOf("-");if(-1===t)return!1;e=e.tagName.substring(0,t).toLowerCase();if(-1!==u.indexOf(e))return!0}return!1}function N(e){return e.parentNode?w(e.parentNode)?e.parentNode:N(e.parentNode):null}function l(e,t){if("TEMPLATE"===e.tagName)return e._x_teleport?(w(e._x_teleport)&&t(e._x_teleport),l(e._x_teleport,t)):l(e.content,t);d.each(e.querySelectorAll("*"),e=>{if(w(e)&&t(e),"TEMPLATE"===e.tagName)return e._x_teleport?(w(e._x_teleport)&&t(e._x_teleport),l(e._x_teleport,t)):l(e.content,t)})}function A(e,n){if(!e)return null;if(e._vui_type){if(d.isString(n)){let t=n;n=e=>e._vui_type===t}if(!n||n(e))return e}return e._x_teleportBack?A(e._x_teleportBack.parentNode,n):A(e.parentNode,n)}function E(r,e){if(d.isFunction(r))return r;if(d.isPlainObject(r))return e=>e._vui_type===r.type&&(!r.namespace||e._vui_namespace===r.namespace);{let t="",n=r;var i=r.split(":");return 1<i.length&&(t=i[0]||e,n=i[1]),e=>e._vui_type===n&&(!t||e._vui_namespace===t)}}function x(e,t){const n=A(e,t);return n?(e={$of(e){return e?x((n._x_teleportBack||n).parentNode,E(e,n._vui_namespace)):null},get $meta(){return T(n)},get $parent(){return N(n)},$closest(e){return A(n,E(e,n._vui_namespace))},$find(e){return O(n,E(e,n._vui_namespace))},$findOne(e){e=O(n,E(e,n._vui_namespace));return 0<e.length?e[0]:null}},o([e,n._vui_api||{},...i(n)])):null}function T(e){return{type:e._vui_type,namespace:e._vui_namespace}}function O(e,n){if(d.isString(n)){let t=n;n=e=>e._vui_type===t}let t=[];return l(e,e=>{n&&!n(e)||t.push(e)}),t}s.setAttribute("id","vimesh-ui-component-common-styles"),s.innerHTML=`
    [v-ui] {display : block}
    [${b}] {display: none !important;}
    `,document.head.prepend(s),$vui.addNamespace=c,$vui.getComponentMeta=T,$vui.isComponent=w,$vui.visitComponents=l,$vui.findChildComponents=O,$vui.getParentComponent=N,$vui.findClosestComponent=A,$vui.$api=e=>x(e),$vui.$data=Alpine.$data,$vui.setHtml=(e,t)=>{e.innerHTML="";t=$vui.dom(t);d.isArray(t)?e.append(...t):e.append(t)},$vui.defer=e=>{queueMicrotask(e)},$vui.dom=e=>{var t=document.createElement("div");return t._x_ignore=!0,t.innerHTML=e,$vui.extractNamespaces(t),$vui.prepareComponents(t),1===t.childNodes.length?t.firstChild:[...t.childNodes]},$vui.nextTick=Alpine.nextTick,$vui.effect=Alpine.effect,$vui.focus=(e,t)=>e&&e.focus&&e.focus(t||{preventScroll:!0}),$vui.scrollIntoView=(e,t)=>e&&e.scrollIntoView&&e.scrollIntoView(t||{block:"nearest"}),$vui.extractNamespaces=e=>{d.each([e,...e.querySelectorAll("*")],e=>{"TEMPLATE"===e.tagName&&$vui.extractNamespaces(e.content),d.each(e.attributes,t=>{var e,n,r=t.name;if(r.startsWith(g)){var i=-1===(n=(i=r).indexOf(":"))?h:-1===(e=i.indexOf(".",n))?i.substring(n+1):i.substring(n+1,e);c(i)}else if(r.startsWith(a)&&t.value){let e=t.value.trim();e.startsWith("[")&&e.endsWith("]")||(e=e.split(";"),d.each(e,e=>{var t=e.indexOf(":");-1!==t&&c(e.substring(0,t))}))}})})},$vui.prepareComponents=e=>{l(e,e=>{e.setAttribute(b,""),e.setAttribute($,"")})},d.each($vui.config.importMap,(e,t)=>{"*"!==t&&$vui.addNamespace(t)}),$vui.extractNamespaces(document),$vui.prepareComponents(document),t(()=>`[${g}]`),n("api",e=>x(e)),n("prop",r=>(e,t)=>{var n=A(r);return n?Alpine.bound(n,e,t):null}),e("shtml",(t,{expression:e},{effect:n,evaluateLater:r})=>{let i=r(e);n(()=>{i(e=>{$vui.setHtml(t,e)})})}),e("component",(o,{expression:a,value:e,modifiers:t},{})=>{if("template"!==o.tagName.toLowerCase())return console.warn("x-component can only be used on a <template> tag",o);const u=e||$vui.config.namespace||h,s=u+"-"+a,c=t.includes("unwrap");e=o.content.querySelector("script");if(e){const n=document.createElement("script");d.each(e.attributes,e=>n.setAttribute(e.name,e.value)),n.setAttribute("component",s),n.innerHTML=`
$vui.setups["${s}"] = ($el)=>{
${e.innerHTML}
}
//# sourceURL=__vui__/${s}.js
`,document.body.append(n),e.remove()}function l(e,n){d.each(e.attributes,t=>{if(g!==t.name&&!t.name.startsWith(g))try{let e=t.name;e.startsWith("@")?e=r("on")+":"+e.substring(1):e.startsWith(":")&&(e=r("bind")+":"+e.substring(1)),y===e&&n.getAttribute(y)?n.setAttribute(e,t.value+";"+n.getAttribute(y)):_===e&&n.getAttribute(_)?n.setAttribute(e,"{..."+t.value+",..."+n.getAttribute(_)+"}"):"class"===e?n.setAttribute(e,t.value+" "+(n.getAttribute("class")||"")):n.hasAttribute(e)||n.setAttribute(e,t.value)}catch(e){console.warn(`Fails to set attribute ${t.name}=${t.value} in `+n.tagName.toLowerCase())}})}$vui.components[s]=class extends HTMLElement{connectedCallback(){let n=this,e=N(n);for(;e;){if(!e.hasAttribute(m)&&!e._vui_type)return void($vui.config.debug&&console.log("Not ready to connect "+this.tagName));e=N(e)}n.setAttribute(m,$vui.config.debug?""+d.elapse():""),$vui.config.debug&&console.log("Connect "+this.tagName),f(()=>{const r={},i=[];d.each(this.childNodes,e=>{var t,n;e.tagName&&e.hasAttribute("slot")?(t=e.getAttribute("slot")||"",n="TEMPLATE"===e.tagName?e.content.cloneNode(!0).childNodes:[e.cloneNode(!0)],r[t]?r[t].push(...n):r[t]=n):i.push(e.cloneNode(!0))}),o.innerHTML=(e=o.innerHTML,t=function(e){var t=e.attributes,n={};for(let e=0;e<t.length;e++){var r=t[e];r.name.startsWith("_")&&(n[r.name]=r.value)}return n}(this),Object.entries(t).reduce((e,[t,n])=>e.replaceAll(`\${${t}}`,""+n),e).replace(/\$\{[^}]+\}/g,"{}")),c?(l(this,n=o.content.cloneNode(!0).firstElementChild),this.after(n),this.remove()):n.innerHTML=o.innerHTML,l(o,n);var e,t=n.querySelectorAll("slot");d.each(t,e=>{var t=e.getAttribute("name")||"";e.after(...r[t]||i),e.remove()}),c&&w(n)||(n._vui_type=a,n._vui_namespace=u,(e=$vui.setups[s])&&(n._vui_api=v(e(n))),n.hasAttribute(_)||n.setAttribute(_,"{}"),!(t=N(n))||t._vui_type?queueMicrotask(()=>{var e;n.isConnected&&(n.removeAttribute(b),n.removeAttribute($),delete n._x_ignore,$vui.config.debug&&console.log("Process initTree "+this.tagName),p(n),n._vui_api&&(e=x(n)).onMounted&&e.onMounted(),d.each(n._vui_deferred_elements,e=>{e._vui_api&&(e=x(e)).onMounted&&e.onMounted()}),delete n._vui_deferred_elements)}):($vui.config.debug&&console.log("Defer initTree "+this.tagName),t._vui_deferred_elements||(t._vui_deferred_elements=[]),t._vui_deferred_elements.push(n),n._vui_deferred_elements&&t._vui_deferred_elements.push(...n._vui_deferred_elements),queueMicrotask(()=>{n.removeAttribute(b),n.removeAttribute($),delete n._x_ignore})))})}disconnectedCallback(){var e;$vui.config.debug&&console.log((this.hasAttribute(m)?"Disconnect ":"Not ready to disconnect ")+this.tagName),this._vui_api&&(e=x(this)).onUnmounted&&e.onUnmounted()}attributeChangedCallback(e,t,n){var r;this._vui_api&&(r=x(this)).onAttributeChanged&&r.onAttributeChanged(e,t,n)}},customElements.define(s.toLowerCase(),$vui.components[s])})}),$vui.import=e=>{if(e){const d=$vui._,a=$vui.config.importMap;if($vui.imports||($vui.imports={}),$vui.importScriptIndex||($vui.importScriptIndex=1),d.isString(e)&&(e=[e]),d.isArray(e)){const u=[];return d.each(e,o=>{if(o){let c=o=o.trim(),n=a["*"],l=null,r="";var e=o.indexOf(":");-1!==e&&(r=o.substring(0,e),o=o.substring(e+1),r)&&$vui.addNamespace(r),e=o.lastIndexOf("/");let i="";-1!==e&&(i=o.substring(0,e+1),o=o.substring(e+1)),d.each(o.split(","),e=>{e=e.trim();e={path:i,namespace:r,component:e,fullname:(r?r+":":"")+i+e};if(!(n=e.namespace&&a[e.namespace]?a[e.namespace]:n))return console.error(`Url template for namespace '${e.namespace}' is not defined!`);try{var t=new Function("data","with (data){return `"+n+"`}");l=t(e)}catch(e){return void console.error(`Fails to parse url template ${n} with component `+o)}if(l&&!$vui.imports[l]){let s={url:l,...e};$vui.imports[l]=s,u.push(fetch(l).then(e=>{if(e.ok)return e.text();throw Error(`${e.status} (${e.statusText})`)}).then(e=>{var t=document.createElement("div");t._x_ignore=!0,t.innerHTML=e,s.html=e;let u=[...t.childNodes];return new Promise(o=>{const a=e=>{if(e<u.length){var t=u[e];if(t.remove(),"LINK"===t.tagName)document.head.append(t),a(e+1);else if("SCRIPT"===t.tagName){t.hasAttribute("use-meta")&&(t.innerHTML=`const __import_meta__ = ${JSON.stringify(s)}\r
`+t.innerHTML);const i=document.createElement("script");var n,r=t.src&&!t.async;r&&(i.onload=()=>{a(e+1)},i.onerror=()=>{console.error(`Fails to load script from "${i.src}"`),a(e+1)}),d.each(t.attributes,e=>i.setAttribute(e.name,e.value)),t.src||(n=`__vui__/scripts/js_${$vui.importScriptIndex}.js`,i.setAttribute("file",n),i.innerHTML=t.innerHTML+`\r
//# sourceURL=`+n,$vui.importScriptIndex++),document.body.append(i),r||a(e+1)}else"TEMPLATE"===t.tagName&&($vui.extractNamespaces(t),$vui.prepareComponents(t),document.body.append(t)),a(e+1)}else $vui.config.debug&&console.log(`Imported ${c} @ `+l),o()};a(0)})}).catch(e=>{console.error(`Fails to import ${c} @ `+l,e)}))}})}}),Promise.all(u)}return Promise.reject(`Fails to import ${e} !`)}},$vui.ready(()=>{$vui._;const{directive:e,prefixed:o,addRootSelector:t}=Alpine;t(()=>`[${o("import")}]`),e("import",(e,{expression:t,value:n},{effect:r,evaluateLater:i})=>{if(t)if(n)if("dynamic"===n||"dyn"===n){let e=i(t);r(()=>e(e=>$vui.import(e)))}else console.error(o("import")+`:${n} is not allowed!`);else $vui.import(t.split(";"))})}),$vui.include=(l,e)=>{const d=$vui._,p=l._vui_unwrap;let t;for(let e=l;e&&!(t=e._vui_base_url);e=e.parentElement);if(t=t||document.baseURI,d.isArray(e)){const n=[];return d.each(e,c=>{if(c=c.trim()){let s=new URL(c,t).href;n.push(fetch(s).then(e=>e.text()).then(e=>{var t=document.createElement("div");t._x_ignore=!0,t.innerHTML=e;let u=[...t.childNodes];return new Promise(o=>{const a=e=>{if(e<u.length){var t=u[e];if(t.remove(),"SCRIPT"===t.tagName){const i=document.createElement("script");var n,r=t.src&&!t.async;r&&(i.onload=()=>{a(e+1)},i.onerror=()=>{console.error(`Fails to load script from "${i.src}"`),a(e+1)}),d.each(t.attributes,e=>i.setAttribute(e.name,e.value)),t.src||(n=`__vui__/scripts/js_${$vui.importScriptIndex}.js`,i.setAttribute("file",n),i.innerHTML=t.innerHTML+`\r
//From ${c}\r
//# sourceURL=`+n,$vui.importScriptIndex++),document.body.append(i),r||a(e+1)}else t._vui_base_url=s,p?l.before(t):l.append(t),a(e+1)}else $vui.config.debug&&console.log("Included "+c),p&&l.remove(),o()};a(0)})}).catch(e=>{console.error(`Fails to include ${comp} @ `+c,e)}))}}),Promise.all(n)}return Promise.reject(`Fails to include ${e} !`)},$vui.ready(()=>{const a=$vui._,{directive:e,prefixed:t,addRootSelector:n}=Alpine;n(()=>`[${t("include")}]`),e("include",(n,{expression:r,modifiers:e},{effect:i,evaluateLater:o})=>{if(r){n._vui_unwrap=e.includes("unwrap");let t=r.trim();if(t.startsWith(".")||t.startsWith("/")||t.startsWith("http://")||t.startsWith("https://"))$vui.include(n,[t]);else{let e=o(r);i(()=>e(e=>{a.isArray(e)?$vui.include(n,e):a.isString(e)?$vui.include(n,[e]):$vui.include(n,[t])}))}}})}),(()=>{function s(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex}function t(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function r(e){return"INPUT"===e.tagName}function n(e){if(!e.name)return 1;function t(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')}var n=e.form||f(e);if("undefined"!=typeof window&&void 0!==window.CSS&&"function"==typeof window.CSS.escape)r=t(window.CSS.escape(e.name));else try{r=t(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),0}var r=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(r,e.form);return!r||r===e}function i(e){return r(t=e)&&"radio"===t.type&&!n(e);var t}function a(e){var t=(e=e.getBoundingClientRect()).width,e=e.height;return 0===t&&0===e}function o(e,t){return!(i(t)||s(t)<0||!b(e,t))}function u(e){return e=parseInt(e.getAttribute("tabindex"),10),!!(isNaN(e)||0<=e)}function c(e){var a=[],u=[];return e.forEach(function(e,t){var n=!!e.scope,r=n?e.scope:e,i=s(r,n),o=n?c(e.candidates):r;0===i?n?a.push.apply(a,o):a.push(r):u.push({documentOrder:t,tabIndex:i,item:e,isScope:n,content:o})}),u.sort(t).reduce(function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e},[]).concat(a)}var e=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],l=e.join(","),d="undefined"==typeof Element,p=d?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,f=!d&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},v=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(l));return t&&p.call(e,l)&&r.unshift(e),r=r.filter(n)},m=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a,u,s=o.shift();"SLOT"===s.tagName?(a=e((a=s.assignedElements()).length?a:s.children,!0,r),r.flatten?i.push.apply(i,a):i.push({scope:s,candidates:a})):(p.call(s,l)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s),a=s.shadowRoot||"function"==typeof r.getShadowRoot&&r.getShadowRoot(s),u=!r.shadowRootFilter||r.shadowRootFilter(s),a&&u?(u=e((!0===a?s:a).children,!0,r),r.flatten?i.push.apply(i,u):i.push({scope:s,candidates:u})):o.unshift.apply(o,s.children))}return i},b=function(e,t){var n;return!(t.disabled||r(n=t)&&"hidden"===n.type||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;t=p.call(e,"details>summary:first-of-type")?e.parentElement:e;if(p.call(t,"details:not([open]) *"))return!0;t=f(e).host,t=(null==t?void 0:t.ownerDocument.contains(t))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return a(e)}else{if("function"==typeof r){for(n=e;e;){var i=e.parentElement,o=f(e);if(i&&!i.shadowRoot&&!0===r(i))return a(e);e=e.assignedSlot||(i||o===e.ownerDocument?i:o.host)}e=n}if(t)return!e.getClientRects().length}return!1}(t,e)||"DETAILS"===(n=t).tagName&&Array.prototype.slice.apply(n.children).some(function(e){return"SUMMARY"===e.tagName})||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!p.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},y=function(e,t){e=(t=t||{}).getShadowRoot?m([e],t.includeContainer,{filter:o.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:u}):v(e,t.includeContainer,o.bind(null,t));return c(e)},$=function(e,t){return(t=t||{}).getShadowRoot?m([e],t.includeContainer,{filter:b.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):v(e,t.includeContainer,b.bind(null,t))},w=function(e,t){if(t=t||{},e)return!1!==p.call(e,l)&&o(t,e);throw new Error("No node provided")},h=e.concat("iframe").join(","),N=function(e,t){if(t=t||{},e)return!1!==p.call(e,h)&&b(t,e);throw new Error("No node provided")};function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?g(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function _(e,t){function o(e,t,n){return e&&void 0!==e[t]?e[t]:d[n||t]}function a(e){var t=d[e];if("function"==typeof t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];t=t.apply(void 0,r)}if(!(t=!0===t?void 0:t)){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o=t;if("string"!=typeof t||(o=l.querySelector(t)))return o;throw new Error("`".concat(e,"` as selector refers to no known node"))}function u(){if(p.containerGroups=p.containers.map(function(e){var t=y(e,d.tabbableOptions),r=$(e,d.tabbableOptions);return{container:e,tabbableNodes:t,focusableNodes:r,firstTabbableNode:0<t.length?t[0]:null,lastTabbableNode:0<t.length?t[t.length-1]:null,nextTabbableNode:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],n=r.findIndex(function(e){return e===t});if(!(n<0))return e?r.slice(n+1).find(function(e){return w(e,d.tabbableOptions)}):r.slice(0,n).reverse().find(function(e){return w(e,d.tabbableOptions)})}}}),p.tabbableGroups=p.containerGroups.filter(function(e){return 0<e.tabbableNodes.length}),p.tabbableGroups.length<=0&&!a("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")}function s(e){var t=a("setReturnFocus",e);return t||!1!==t&&e}function i(){if(p.active)x.activateTrap(_),p.delayInitialFocusTimer=d.delayInitialFocus?L(function(){v(r())}):v(r()),l.addEventListener("focusin",m,!0),l.addEventListener("mousedown",n,{capture:!0,passive:!1}),l.addEventListener("touchstart",n,{capture:!0,passive:!1}),l.addEventListener("click",g,{capture:!0,passive:!1}),l.addEventListener("keydown",h,{capture:!0,passive:!1})}function c(){if(p.active)l.removeEventListener("focusin",m,!0),l.removeEventListener("mousedown",n,!0),l.removeEventListener("touchstart",n,!0),l.removeEventListener("click",g,!0),l.removeEventListener("keydown",h,!0)}var l=(null==t?void 0:t.document)||document,d=A({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),p={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},f=function(n){return p.containerGroups.findIndex(function(e){var t=e.container,e=e.tabbableNodes;return t.contains(n)||e.find(function(e){return e===n})})},r=function(){var e,t=a("initialFocus");if(!1===t)return!1;if(t=void 0===t?0<=f(l.activeElement)?l.activeElement:(e=p.tabbableGroups[0])&&e.firstTabbableNode||a("fallbackFocus"):t)return t;throw new Error("Your focus-trap needs to have at least one focusable element")},v=function e(t){!1!==t&&t!==l.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!d.preventScroll}),p.mostRecentlyFocusedNode=t,T(t)&&t.select()):e(r()))},n=function(e){var t=k(e);0<=f(t)||(F(d.clickOutsideDeactivates,e)?_.deactivate({returnFocus:d.returnFocusOnDeactivate&&!N(t,d.tabbableOptions)}):F(d.allowOutsideClick,e)||e.preventDefault())},m=function(e){var t=k(e),n=0<=f(t);n||t instanceof Document?n&&(p.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),v(p.mostRecentlyFocusedNode||r()))},b=function(e){var t,n,r,i=k(e),o=(u(),null);0<p.tabbableGroups.length?(r=0<=(t=f(i))?p.containerGroups[t]:void 0,t<0?o=e.shiftKey?p.tabbableGroups[p.tabbableGroups.length-1].lastTabbableNode:p.tabbableGroups[0].firstTabbableNode:e.shiftKey?0<=(n=(n=C(p.tabbableGroups,function(e){e=e.firstTabbableNode;return i===e}))<0&&(r.container===i||N(i,d.tabbableOptions)&&!w(i,d.tabbableOptions)&&!r.nextTabbableNode(i,!1))?t:n)&&(n=0===n?p.tabbableGroups.length-1:n-1,o=p.tabbableGroups[n].lastTabbableNode):0<=(n=(n=C(p.tabbableGroups,function(e){e=e.lastTabbableNode;return i===e}))<0&&(r.container===i||N(i,d.tabbableOptions)&&!w(i,d.tabbableOptions)&&!r.nextTabbableNode(i))?t:n)&&(r=n===p.tabbableGroups.length-1?0:n+1,o=p.tabbableGroups[r].firstTabbableNode)):o=a("fallbackFocus"),o&&(e.preventDefault(),v(o))},h=function(e){O(e)&&!1!==F(d.escapeDeactivates,e)?(e.preventDefault(),_.deactivate()):S(e)&&b(e)},g=function(e){var t=k(e);0<=f(t)||F(d.clickOutsideDeactivates,e)||F(d.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},_={get active(){return p.active},get paused(){return p.paused},activate:function(e){var t,n,r;return p.active||(t=o(e,"onActivate"),n=o(e,"onPostActivate"),(r=o(e,"checkCanFocusTrap"))||u(),p.active=!0,p.paused=!1,p.nodeFocusedBeforeActivation=l.activeElement,t&&t(),e=function(){r&&u(),i(),n&&n()},r?r(p.containers.concat()).then(e,e):e()),this},deactivate:function(e){var t,n,r,i;return p.active&&(e=A({onDeactivate:d.onDeactivate,onPostDeactivate:d.onPostDeactivate,checkCanReturnFocus:d.checkCanReturnFocus},e),clearTimeout(p.delayInitialFocusTimer),p.delayInitialFocusTimer=void 0,c(),p.active=!1,p.paused=!1,x.deactivateTrap(_),t=o(e,"onDeactivate"),n=o(e,"onPostDeactivate"),r=o(e,"checkCanReturnFocus"),i=o(e,"returnFocus","returnFocusOnDeactivate"),t&&t(),e=function(){L(function(){i&&v(s(p.nodeFocusedBeforeActivation)),n&&n()})},i&&r?r(s(p.nodeFocusedBeforeActivation)).then(e,e):e()),this},pause:function(){return!p.paused&&p.active&&(p.paused=!0,c()),this},unpause:function(){return p.paused&&p.active&&(p.paused=!1,u(),i()),this},updateContainerElements:function(e){e=[].concat(e).filter(Boolean);return p.containers=e.map(function(e){return"string"==typeof e?l.querySelector(e):e}),p.active&&u(),this}};return _.updateContainerElements(e),_}E=[];var E,x={activateTrap:function(e){0<E.length&&(t=E[E.length-1])!==e&&t.pause();var t=E.indexOf(e);-1!==t&&E.splice(t,1),E.push(e)},deactivateTrap:function(e){e=E.indexOf(e);-1!==e&&E.splice(e,1),0<E.length&&E[E.length-1].unpause()}},T=function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select},O=function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode},S=function(e){return"Tab"===e.key||9===e.keyCode},L=function(e){return setTimeout(e,0)},C=function(e,n){var r=-1;return e.every(function(e,t){return!n(e)||(r=t,!1)}),r},F=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e?e.apply(void 0,n):e},k=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target};function I(e){let n,r;window.addEventListener("focusin",()=>{n=r,r=document.activeElement}),e.magic("focus",e=>{let t=e;return{__noscroll:!1,__wrapAround:!1,within(e){return t=e,this},withoutScrolling(){return this.__noscroll=!0,this},noscroll(){return this.__noscroll=!0,this},withWrapAround(){return this.__wrapAround=!0,this},wrap(){return this.withWrapAround()},focusable(e){return N(e)},previouslyFocused(){return n},lastFocused(){return n},focused(){return r},focusables(){return Array.isArray(t)?t:$(t,{displayCheck:"none"})},all(){return this.focusables()},isFirst(e){var t=this.all();return t[0]&&t[0].isSameNode(e)},isLast(e){var t=this.all();return t.length&&t.slice(-1)[0].isSameNode(e)},getFirst(){return this.all()[0]},getLast(){return this.all().slice(-1)[0]},getNext(){var e=this.all(),t=document.activeElement;if(-1!==e.indexOf(t))return this.__wrapAround&&e.indexOf(t)===e.length-1?e[0]:e[e.indexOf(t)+1]},getPrevious(){var e=this.all(),t=document.activeElement;if(-1!==e.indexOf(t))return this.__wrapAround&&0===e.indexOf(t)?e.slice(-1)[0]:e[e.indexOf(t)-1]},first(){this.focus(this.getFirst())},last(){this.focus(this.getLast())},next(){this.focus(this.getNext())},previous(){this.focus(this.getPrevious())},prev(){return this.previous()},focus(e){e&&setTimeout(()=>{e.hasAttribute("tabindex")||e.setAttribute("tabindex","0"),e.focus({preventScroll:this._noscroll})})}}}),e.directive("trap",e.skipDuringClone((t,{expression:e,modifiers:n},{effect:r,evaluateLater:i,cleanup:o})=>{let a=i(e),u=!1;i={escapeDeactivates:!1,allowOutsideClick:!0,fallbackFocus:()=>t};n.includes("noautofocus")?i.initialFocus=!1:(e=t.querySelector("[autofocus]"))&&(i.initialFocus=e);let s=_(t,i),c=()=>{},l=()=>{};const d=()=>{c(),c=()=>{},l(),l=()=>{},s.deactivate({returnFocus:!n.includes("noreturn")})};r(()=>a(e=>{u!==e&&(e&&!u&&(n.includes("noscroll")&&(l=function(){let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=n+"px",()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}()),n.includes("inert")&&(c=P(t)),setTimeout(()=>{s.activate()},15)),!e&&u&&d(),u=!!e)})),o(d)},(e,{expression:t,modifiers:n},{evaluate:r})=>{n.includes("inert")&&r(t)&&P(e)}))}function P(e){let n=[];return function t(n,r){if(n.isSameNode(document.body)||!n.parentNode)return;Array.from(n.parentNode.children).forEach(e=>{e.isSameNode(n)?t(n.parentNode,r):r(e)})}(e,e=>{let t=e.hasAttribute("aria-hidden");e.setAttribute("aria-hidden","true"),n.push(()=>t||e.removeAttribute("aria-hidden"))}),()=>{for(;n.length;)n.pop()()}}document.addEventListener("alpine:init",()=>{window.Alpine.plugin(I)})})();